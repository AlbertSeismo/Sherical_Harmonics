<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" spherical harmonics software package, spherical harmonic transform, legendre functions, multitaper spectral analysis, fortran, Python, gravity, magnetic field">
<title>SHTOOLS release notes: Version 4 | SHTOOLS - Tools for working with spherical harmonics</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://shtools.oca.eu/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> SHTOOLS</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/SHTOOLS/SHTOOLS/" target="_blank">GitHub</a></li>
                
                
                
                <li><a href="https://github.com/SHTOOLS/SHTOOLS/releases" target="_blank">Releases</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:mark.wieczorek@oca.eu?subject=SHTOOLS feedback&body=I have some feedback about SHTOOLS release notes: Version 4 page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="SHTOOLS release notes: Version 4">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">SHTOOLS 4.4</li>
  
  
  
      
  
  <li>
      <a href="#">Getting started</a>
      <ul>
          
          
          
          <li><a href="index.html">Overview</a></li>
          
          
          
          
          
          
          <li><a href="installing.html">Installing</a></li>
          
          
          
          
          
          
          <li><a href="using-with-f95.html">Using with Fortran 95</a></li>
          
          
          
          
          
          
          <li><a href="using-with-python.html">Using with Python</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Spherical harmonics</a>
      <ul>
          
          
          
          <li><a href="real-spherical-harmonics.html">Real spherical harmonics</a></li>
          
          
          
          
          
          
          <li><a href="complex-spherical-harmonics.html">Complex spherical harmonics</a></li>
          
          
          
          
          
          
          <li><a href="implementation-details.html">Implementation details</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Fortran 95 Routines</a>
      <ul>
          
          
          
          <li><a href="f95-modules.html">Modules</a></li>
          
          
          
          
          
          
          <li><a href="legendre-functions.html">Legendre functions</a></li>
          
          
          
          
          
          
          <li><a href="spherical-harmonic-transforms.html">Spherical harmonic transformations</a></li>
          
          
          
          
          
          
          <li><a href="io.html">I/O, storage, conversions</a></li>
          
          
          
          
          
          
          <li><a href="global-spectral-analysis.html">Global spectral analysis</a></li>
          
          
          
          
          
          
          <li><a href="localized-spectral-analysis.html">Localized spectral analysis</a></li>
          
          
          
          
          
          
          <li><a href="spherical-harmonic-rotations.html">Spherical harmonic rotations</a></li>
          
          
          
          
          
          
          <li><a href="gravity-magnetics.html">Gravity and magnetics</a></li>
          
          
          
          
          
          
          <li><a href="miscellaneous-routines.html">Miscellaneous</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Python components</a>
      <ul>
          
          
          
          <li><a href="python-classes.html">Python classes</a></li>
          
          
          
          
          
          
          <li><a href="python-legendre-functions.html">Legendre functions</a></li>
          
          
          
          
          
          
          <li><a href="python-spherical-harmonic-transforms.html">Spherical harmonic transformations</a></li>
          
          
          
          
          
          
          <li><a href="python-io.html">I/O, storage, conversions</a></li>
          
          
          
          
          
          
          <li><a href="python-spectral-analysis.html">Global and localized spectral analysis</a></li>
          
          
          
          
          
          
          <li><a href="python-spherical-harmonic-rotations.html">Spherical harmonic rotations</a></li>
          
          
          
          
          
          
          <li><a href="python-gravity-magnetics.html">Gravity and magnetics</a></li>
          
          
          
          
          
          
          <li><a href="python-utilities.html">Utilities</a></li>
          
          
          
          
          
          
          <li><a href="python-constants.html">Constants</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Examples programs</a>
      <ul>
          
          
          
          <li><a href="python-examples.html">Python examples</a></li>
          
          
          
          
          
          
          <li><a href="fortran-examples.html">Fortran 95 examples</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Support</a>
      <ul>
          
          
          
          <li><a href="faq.html">FAQ</a></li>
          
          
          
          
          
          
          <li><a href="fortran-95-problems.html">Fortran 95 problems</a></li>
          
          
          
          
          
          
          <li><a href="how-to-contribute.html">How to contribute</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Release Notes</a>
      <ul>
          
          
          
          <li class="active"><a href="release-notes-v4.html">Version 4</a></li>
          
          
          
          
          
          
          <li><a href="release-notes-v3.html">Version 3</a></li>
          
          
          
          
          
          
          <li><a href="license.html">License</a></li>
          
          
          
          
          
          
          <li><a href="contributors.html">Contributors</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "left",
  displayIndent: "2em"
});
</script>

<script type="text/javascript" async
 src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<div class="post-header">
   <h1 class="post-title-main">SHTOOLS release notes: Version 4</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    

  <h2 id="version-44">Version 4.4</h2>

<p><strong>New Slepian expansion routines</strong></p>

<ul>
  <li>Added the new Fortran 95 functions <code class="highlighter-rouge">SHRotateTapers</code> for rotating spherical cap Slepian functions, <code class="highlighter-rouge">SlepianCoeffs</code> for expanding a function in a Slepian basis, and <code class="highlighter-rouge">SlepianCoeffsToSH</code> to convert the Slepian coefficients into spherical harmonic coefficients.</li>
  <li>Added two python classes <code class="highlighter-rouge">Slepian</code> and <code class="highlighter-rouge">SlepianCoeffs</code> for managing Slepian basis functions and the Slepian expansion coefficients of a function.</li>
</ul>

<p><strong>Legendre and spherical harmonic convenience functions</strong></p>

<ul>
  <li>Added 4 python convenience functions for computing Legendre and spherical harmonic functions: <code class="highlighter-rouge">legendre()</code> to compute all the legendre functions, <code class="highlighter-rouge">legendre_lm()</code> to compute the legendre function for a specified degree and order, <code class="highlighter-rouge">spharm()</code> to compute all the spherical harmonic functions, and <code class="highlighter-rouge">spharm_lm()</code> to compute the spherical harmonic functions for a specific degree and order.</li>
</ul>

<p><strong>Other improvements</strong></p>

<ul>
  <li>Added the option to perform a weighted least squares inversion in the fortran routine <code class="highlighter-rouge">SHExpandLSQ</code>, and added a python wrapped function <code class="highlighter-rouge">SHExpandWLSQ()</code>.</li>
  <li>Added <code class="highlighter-rouge">min()</code> and <code class="highlighter-rouge">max()</code> methods to the <code class="highlighter-rouge">SHGrid</code> class, to return the minimum and maximum value of the gridded data.</li>
  <li>Added the property <code class="highlighter-rouge">mass</code> to the <code class="highlighter-rouge">SHGravCoeffs</code> class, which is computed by the input GM and the codata value for <code class="highlighter-rouge">G</code>.</li>
  <li>Add the optional parameter <code class="highlighter-rouge">omega</code> to <code class="highlighter-rouge">SHGravCoeffs.geoid()</code> to override the value provided in the class instance.</li>
  <li>Fixed some minor typos and usability issues, and cleaned up the python wrapper and signature files.</li>
</ul>

<p>M. A. Wieczorek, M. Meschede, E. Sales de Andrade, I. Oshchepkov, B. Xu, and A. Walker (2018). SHTOOLS: Version 4.4, Zenodo, doi:<a href="https://doi.org/10.5281/zenodo.592762">10.5281/zenodo.592762</a></p>

<h2 id="version-43">Version 4.3</h2>

<p><strong>New Gravity and Magnetic field classes</strong></p>

<ul>
  <li>Added gravity classes <code class="highlighter-rouge">SHGravCoeffs</code>, <code class="highlighter-rouge">SHGravGrid</code>, <code class="highlighter-rouge">SHGravTensor</code> and <code class="highlighter-rouge">SHGeoid</code>.</li>
  <li>Added magnetic field classes <code class="highlighter-rouge">SHMagCoeffs</code>, <code class="highlighter-rouge">SHMagGrid</code>, and <code class="highlighter-rouge">SHMagTensor</code>.</li>
  <li>Added new fortran subroutine <code class="highlighter-rouge">MakeMagGradGridDH</code>, which is analogous to <code class="highlighter-rouge">MakeGravGradGridDH</code>.</li>
  <li>Reorded the arguments of <code class="highlighter-rouge">CilmPlusRhoHDH</code> to be consistent with <code class="highlighter-rouge">CilmPlusDH</code>.</li>
  <li>The python routine <code class="highlighter-rouge">MakeMagGridDH</code> now also outputs the magnetic potential as a grid.</li>
</ul>

<p><strong>Better figures</strong></p>

<ul>
  <li>Addition of the function <code class="highlighter-rouge">pyshtools.utils.figstyle()</code>, that sets several matplotlib parameters for better figures. This function takes as optional parmeters the maximum useable width of a journal page, the relative width of the figure with respect to this value, and the screen resolution in dpi.</li>
  <li>Most plotting routines have optional parameters to set minor tick intervals, grids, label font size, and tick font size.</li>
  <li>Degree symbols are plotted on tick labels for maps.</li>
  <li><code class="highlighter-rouge">examples/python/Common/FigStyle.py</code> was removed from the examples.</li>
  <li>Added the options <code class="highlighter-rouge">vmin</code> and <code class="highlighter-rouge">vmax</code> to the plotting methods <code class="highlighter-rouge">SHCoeffs.plot_spectrum2d()</code> in order to specify the limits of the color scale.</li>
  <li>Added the option to plot colorbars on <code class="highlighter-rouge">SHGrid</code> plots, along with the option to specify their orientation and a text label.</li>
  <li>All notebooks have been updated.</li>
</ul>

<p><strong>New constant subpackage</strong></p>

<ul>
  <li>The <code class="highlighter-rouge">constant</code> subpackage has been completely rewritten and now makes use of the <a href="http://docs.astropy.org/en/latest/constants/index.html">astropy</a> <code class="highlighter-rouge">Constant</code> class. This class has attributes <code class="highlighter-rouge">name</code>, <code class="highlighter-rouge">value</code>, <code class="highlighter-rouge">uncertainty</code>, <code class="highlighter-rouge">unit</code>, and <code class="highlighter-rouge">reference</code>. The naming of the constants has changed in some cases for consistency. A few constants that are not necessary were removed. Many of the constants were updated with more recent values. <code class="highlighter-rouge">Constants</code> can be used in arithmetic operations with either other <code class="highlighter-rouge">Constants</code> or with objects of the astropy class <code class="highlighter-rouge">Quantity</code>.</li>
  <li>Constants are organized into modules for each of the planets (<code class="highlighter-rouge">Mercury</code>, <code class="highlighter-rouge">Venus</code>, <code class="highlighter-rouge">Earth</code>, <code class="highlighter-rouge">Moon</code>, and <code class="highlighter-rouge">Mars</code>), and for convenience, these are all added to the main namespace. The fundamental constants <code class="highlighter-rouge">G</code> and <code class="highlighter-rouge">mu0</code> from the astropy constants package were added (as taken from CODATA 2014).</li>
</ul>

<p><strong>Other changes</strong></p>

<ul>
  <li>Fixed a bug in how the random coeffcients were determined for unnormalized coeffcients in SHCoeffs.</li>
  <li>Optional parameter <code class="highlighter-rouge">seed</code> added to <code class="highlighter-rouge">SHCoeffs.from_random()</code> to allow for reproducibility.</li>
  <li>One can now specify colat instead of lat for the method SHCoeffs.expand().</li>
  <li>Added <code class="highlighter-rouge">__repr__</code> methods to all pyshtools classes.</li>
  <li>Changed the mathematical operators of <code class="highlighter-rouge">SHCoeffs</code> such that addition and subtraction of a constant only affects the degree 0 term.</li>
  <li>Added the optional parameter <code class="highlighter-rouge">lmax</code> to <code class="highlighter-rouge">SHCoeffs.plot_spectrum()</code> and <code class="highlighter-rouge">SHCoeffs.plot_spectrum2d()</code>.</li>
  <li>Fixed a bug in <code class="highlighter-rouge">SHCoeffs.pad()</code> where the attribute <code class="highlighter-rouge">mask</code> was not similarly padded.</li>
  <li>For mathematical operations with <code class="highlighter-rouge">SHCoeffs</code> grids, it is now required that the
two class instances have the same <code class="highlighter-rouge">lmax</code>.</li>
  <li>Clarified the documentation of <code class="highlighter-rouge">SHRotateCoef</code> to point out that this is only valid for intrinsically real functions that are expressed in complex harmonics.</li>
  <li>Added the method <code class="highlighter-rouge">volume()</code> to the class SHCoeffs, that calculates the volume of the object.</li>
  <li>Added the attributes <code class="highlighter-rouge">area</code> and <code class="highlighter-rouge">shannon</code> to <code class="highlighter-rouge">SHWindow</code>, which provides the area of the concentration domain and the shannon number.</li>
  <li>Removed python installation support from Makefile: use pip instead.</li>
</ul>

<p><strong>Citation:</strong></p>

<p>M. A. Wieczorek, M. Meschede, E. Sales de Andrade, I. Oshchepkov, B. Xu, and A. Walker (2018). SHTOOLS: Version 4.3, Zenodo, doi:<a href="https://doi.org/10.5281/zenodo.1346663">10.5281/zenodo.1346663</a></p>

<h2 id="version-42">Version 4.2</h2>

<p><strong>Change log:</strong></p>

<ul>
  <li>Full support added for the use of unnormalized harmonics in the classes <code class="highlighter-rouge">SHCoeffs</code> and <code class="highlighter-rouge">SHGrid</code>. To make use of this normalization, just specify <code class="highlighter-rouge">normalization='unnorm'</code>.</li>
  <li>Added a new python native routine <code class="highlighter-rouge">mag_spectrum()</code> in the subpackage <code class="highlighter-rouge">gravmag</code> that replaces the original fortran wrapped routines. The old python wrapped functions have been removed from pyshtools. This new routine is nearly the same as <code class="highlighter-rouge">spectrum()</code>, and further allows one to compute the spectrum of the potential or magnetic intensity.</li>
  <li>The old fortran based <code class="highlighter-rouge">SHRead</code> function has been replaced with a python native version <code class="highlighter-rouge">shread()</code>. The functionality is nearly identical as before, and combines the previous routines <code class="highlighter-rouge">SHRead</code>, <code class="highlighter-rouge">SHReadError</code>, <code class="highlighter-rouge">SHReadErrorH</code> and <code class="highlighter-rouge">SHReadH</code> into one. Differences include: (1) It is no longer necessary to specify the lmax of the file: This is determined automatically by reading the file from the end, (2) both real and complex coefficients are supported, (3) a header line can be output, but it is a simple list of type str that will need to be converted to the correct format by the user, and (4) “comment” lines are read and ignored: A valid line is one where there are 4 or more words, and where the first two words are integers.</li>
  <li>A new python native function <code class="highlighter-rouge">convert()</code> was added in the subpackage <code class="highlighter-rouge">shio</code> that converts between arrays of spherical harmonic coefficients with different normalizations. The class <code class="highlighter-rouge">SHCoeffs</code> was then simplified by using this external function for all conversions involving <code class="highlighter-rouge">SHCoeffs</code> class instances.</li>
  <li>The optional parameter lmax was added to <code class="highlighter-rouge">SHCoeffs.spectrum()</code>.</li>
  <li>When plotting grid from the class <code class="highlighter-rouge">SHGrid</code>, one can now specify the label to use for the x and y axes with <code class="highlighter-rouge">xlabel</code> and <code class="highlighter-rouge">ylabel</code>, as well as the interval to use when plotting ticks on both axes using <code class="highlighter-rouge">tick_interval</code>.</li>
  <li>The pyshtools rotation routines now allow you to specify the optional parameter <code class="highlighter-rouge">convention</code> to treat Euler angles in either the <code class="highlighter-rouge">x</code> or <code class="highlighter-rouge">y</code> conventions (i.e., which axes to use for the second rotation). Furthermore, the optional argument <code class="highlighter-rouge">body</code> allows you to specify if you want to rotate the body (True), or coordinate system (False, default). The tutorial number 3 was updated to clear up some inconsistencies in how the angles were defined.</li>
  <li>New optional parameters added to <code class="highlighter-rouge">SHWindow.plot_windows()</code> and <code class="highlighter-rouge">SHWindow.plot_spectra()</code> that include <code class="highlighter-rouge">xlim</code> and <code class="highlighter-rouge">ylim</code> for the limits when plotting spectra, <code class="highlighter-rouge">maxcolumns</code> for the number of columns to use when plotting several windows, and <code class="highlighter-rouge">lmax</code> which controls the grid spacing when plotting the windows.</li>
  <li>Added the optional argument <code class="highlighter-rouge">lmax</code> to <code class="highlighter-rouge">SHCoeffs.from_random()</code> that allows you to create coefficients with maximum bandwidths that are either greater or less than the bandwidth of the input power spectrum.</li>
  <li>Added a warning message when using <code class="highlighter-rouge">SHCoeffs.rotate()</code> with degrees greater than 1200, as the routine is not accurate beyond this value.</li>
  <li>Added an optional argument <code class="highlighter-rouge">legend</code> to <code class="highlighter-rouge">SHWindow.plot_windows()</code> to control whether the legend is plotted or not.</li>
  <li>Fixed a minor bug in ClassExample.py file concerning the use of <code class="highlighter-rouge">SHCoeffs.rotate()</code>.</li>
  <li>Added support for plotting to an already existing figure by allowing the user to specify an existing matplotlib axes.</li>
  <li>Removed some non-standard ascii dashes in the documentation files, and forced all doc files to be opened as <code class="highlighter-rouge">utf-8</code>.</li>
  <li>HTML documentation was completely redone using Jekyll. The markdown source files are now located in <code class="highlighter-rouge">pages/mydoc</code>. A static html web site is built using <code class="highlighter-rouge">jekyll</code>, whose files are located in <code class="highlighter-rouge">doc</code>. Github will automatically create the static pages and serve them on <a href="https://shtools.github.io/SHTOOLS/">shtools.github.io/SHTOOLS</a>. To build the static pages yourself, it is only necessary to execute <code class="highlighter-rouge">bundle exec jekyll build</code> in the directory <code class="highlighter-rouge">doc</code>, which will build the site into <code class="highlighter-rouge">_site</code> in the same directory. Alternatively, <code class="highlighter-rouge">make www</code> in the main directory will create a static site in the top-level directory <code class="highlighter-rouge">www</code> that could be used to deploy on a different web server. The site is based on the template <a href="https://github.com/tomjoht/documentation-theme-jekyll">Jekyll documentation theme</a> by @tomjoht.</li>
</ul>

<p><strong>Citation:</strong></p>

<p>M. A. Wieczorek, M. Meschede, E. Sales de Andrade, I. Oshchepkov, B. Xu, and A. Walker (2018). SHTOOLS: Version 4.2, Zenodo, doi:<a href="https://doi.org/10.5281/zenodo.1250054">10.5281/zenodo.1250054</a></p>

<h2 id="version-41">Version 4.1</h2>

<p>This version adds improved functionality to SHTOOLS and fixes a couple of minor bugs. In addition, this release will be the first where pre-built wheels for unix/macOS/windows will be distributed via PYPI.</p>

<p><strong>Change log:</strong></p>

<ul>
  <li>Added an optional argument <code class="highlighter-rouge">lmax</code> to <code class="highlighter-rouge">SHCoeffs.from_array()</code>.</li>
  <li>Coefficients are zero-padded when <code class="highlighter-rouge">lmax</code> is greater than the maximum degree in <code class="highlighter-rouge">SHCoeffs.to_array()</code>.</li>
  <li>The method <code class="highlighter-rouge">pad()</code> was added to the <code class="highlighter-rouge">SHCoeffs</code> class that zero pads or truncates the coefficients to a different <code class="highlighter-rouge">lmax</code>.</li>
  <li>Fixed the method <code class="highlighter-rouge">SHCoeffs.from_file()</code> such that the maximum spherical harmonic degree of the class is the maximum spherical harmonic degree of the coeffs (and not <code class="highlighter-rouge">lmaxin</code> as before).</li>
  <li>Fixed formatting issues with error messages in <code class="highlighter-rouge">SHCoeffs</code>.</li>
  <li>Removed print statements from the fortran code in <code class="highlighter-rouge">BAtoHilm</code> and <code class="highlighter-rouge">BAtoHilmRohH</code> that served no purpose.</li>
  <li>Fixed a bug in the argument order of the python wrappers of <code class="highlighter-rouge">CilmPlusRhoDH</code> and <code class="highlighter-rouge">BAtoHilmRhoDH</code>.</li>
  <li>Fixed the makefile to remove the <code class="highlighter-rouge">dist</code> directory during clean.</li>
  <li>Fixed a bug in the python routine <code class="highlighter-rouge">cross_spectrum()</code>, where the numpy arange function was incorrectly called.</li>
  <li>Fixed the<code class="highlighter-rouge">SHWindow</code> plotting methods to work when the number of rows is equal to 1.</li>
  <li>Conditional tests in the routine <code class="highlighter-rouge">Wigner3j</code> were reordered to avoid a division by zero.</li>
  <li>Numpy’s auto-configuration is now used to detect the LAPACK libraries.</li>
  <li>Many minor updates to the python documentation and unix man pages.</li>
</ul>

<p><strong>Citation:</strong></p>

<p>M. A. Wieczorek, M. Meschede, E. Sales de Andrade, I. Oshchepkov, B. Xu, and A. Walker (2017). SHTOOLS: Version 4.1, Zenodo, doi:<a href="https://doi.org/10.5281/zenodo.1067108">10.5281/zenodo.1067108</a></p>

<h2 id="version-40">Version 4.0</h2>
<p>This is a major update that fixes bugs, adds new functionality, and improves Python error handing. All users are requested to upgrade to 4.0.</p>

<p><strong>Change log:</strong></p>

<ul>
  <li>Instead of executing a Fortran STOP, which kills the Python kernel, the Fortran subroutines now return an <code class="highlighter-rouge">exitstatus</code> that allows Python to raise an exception. This technique does not work with the few Fortran functions that pyshtools calls, but these functions are relatively benign, and will soon be phased out for Python native functions.</li>
  <li>The Fortran <code class="highlighter-rouge">powerspectrum</code> routines have been removed from pyshtools, and have been replaced with Python native routines <code class="highlighter-rouge">spectrum</code> and <code class="highlighter-rouge">cross_spectrum</code>. The Python routines allow to specify the normalization, whether the output should be power, energy or l2norm, and whether the spectrum is per degree, per coefficient, or per log bandwidth.</li>
  <li>The method <code class="highlighter-rouge">plot_spectrum2d()</code> was added to the class <code class="highlighter-rouge">SHCoeffs</code> to plot the power as a function of degree and order.</li>
  <li>All pyshtools modules have been converted into proper Python subpackages. The subpackage <code class="highlighter-rouge">localizedpsectralanalysis</code> has been merged into <code class="highlighter-rouge">spectralanalysis</code>, and the subpackage <code class="highlighter-rouge">other</code> has been renamed <code class="highlighter-rouge">utils</code>.</li>
  <li>The Python class method <code class="highlighter-rouge">SHCoeffs.expand()</code> now can evaluate the function either on an SHGrid or for a list of latitude and longitude points. As part of this change, a new fortran function <code class="highlighter-rouge">MakeGridPointC</code> was created for complex coefficients.</li>
  <li>The majority of the methods for the classes <code class="highlighter-rouge">SHCoeffs</code>, <code class="highlighter-rouge">SHGrid</code> and <code class="highlighter-rouge">SHWindow</code> have been rename for consistency (see documentation!). Also, the classes now give the option of reading or saving to files as numpy arrays.</li>
  <li>Added new Python function <code class="highlighter-rouge">read_icgen_gfc</code> for reading ICGEM-format gravity coefficient files.</li>
  <li>The operator <code class="highlighter-rouge">pow</code> was added to the class <code class="highlighter-rouge">SHCoeffs</code>.</li>
  <li>All methods in the pyshtools classes now return copies by default, which can be modified by the optional argument <code class="highlighter-rouge">copy</code>.</li>
  <li>Added <code class="highlighter-rouge">pot</code> as a mandatory return argument for the Python routine <code class="highlighter-rouge">MakeGravGridDH</code>.</li>
  <li>Several minor modifications and bug fixes were made to the makefiles to improve compatibility and to allow the use of <code class="highlighter-rouge">make -j</code>.</li>
  <li>The routines <code class="highlighter-rouge">other.EigValSym</code>, <code class="highlighter-rouge">other.EigValVecSym</code>, <code class="highlighter-rouge">other.EigValVecSymTri</code>, <code class="highlighter-rouge">other.RandomGaussian</code>, <code class="highlighter-rouge">other.RandomN</code> and <code class="highlighter-rouge">other.PreGLQ</code> were removed from pyshtools, as these can be found in other scipy packages.</li>
  <li>The SHTOOLS routine <code class="highlighter-rouge">DHaj</code> was added to the pyshtools subpackage <code class="highlighter-rouge">utils</code>.</li>
  <li>Python docstrings have been streamlined and standardized.</li>
  <li>…plus, many minor changes and optimizations…</li>
</ul>

<p><strong>Citation:</strong></p>

<p>M. A. Wieczorek, M. Meschede, I. Oshchepkov, E. Sales de Andrade, and heroxbd  (2016). SHTOOLS: Version 4.0. Zenodo. doi:<a href="https://doi.org/10.5281/zenodo.206114">10.5281/zenodo.206114</a></p>


    <div class="tags">
        
    </div>

    

    <a target="_blank" href="https://github.com/SHTOOLS/SHTOOLS/blob/develop/docs/pages/mydoc/release-notes-v4.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2018 SHTOOLS. All rights reserved. <br />
<a href="https://www.oca.eu/?lang=en" target="_blank" rel="noopener">Observatoire de la Côte d'Azur</a><br />
<a href="https://lagrange.oca.eu/fr/accueil-lagrange" target="_blank" rel="noopener">Laboratoire Lagrange</a><br />
<p><img src="images/company_logo.png" alt="SHTOOLS"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
